{"version":3,"file":"index.js","sources":["../../src/decorators/utils.ts","../../src/decorators/Action.ts","../../src/decorators/ExportVuexStore.ts","../../src/decorators/Getter.ts","../../src/decorators/HasGetter.ts","../../src/decorators/HasGetterAndMutation.ts","../../src/decorators/Mutation.ts","../../src/decorators/StaticGenerators.ts","../../src/decorators/VuexClass.ts"],"sourcesContent":["import { Store as VuexStore, Module, GetterTree, MutationTree } from 'vuex';\n\nexport interface AverModule<S, R> extends Module<S, R> {\n  moduleName?: string;\n  persistent?: string[] | boolean;\n}\n\ninterface Store<S, R> {\n  [key: string]: AverModule<S, R>;\n}\n\ninterface Config<S> {\n  store?: VuexStore<S>;\n}\n\nexport const config: Config<any> = {};\n\nexport const stores: Store<any, any> = {};\n\nexport function assignStates<S>(Obj: any) {\n  const target = new Obj();\n  const props = Object.getOwnPropertyNames(target);\n  if (typeof target.moduleName === 'undefined') {\n    console.error(\n      `You need to define the 'moduleName' class variable inside '${target.constructor.name}'! Otherwise it won't be added to the Vuex Store!`\n    );\n  }\n\n  initStore(target);\n\n  stores[getClassName(target)].moduleName = target.moduleName;\n  props.splice(props.indexOf('moduleName'), 1);\n\n  const stateFactory = () => getStates(target, props);\n  stores[getClassName(target)].state = stateFactory;\n\n  const proto = Object.getPrototypeOf(target);\n  const functions = Object.getOwnPropertyNames(proto);\n\n  const getters = {} as GetterTree<S, any>;\n  const mutations = {} as MutationTree<S>;\n\n  for (const func of functions) {\n    const descriptor = Object.getOwnPropertyDescriptor(proto, func);\n    if (descriptor && descriptor.get) {\n      getters[func] = (\n        state: S,\n        getters: GetterTree<S, any>,\n        rootState: any,\n        rootGetters: GetterTree<any, any>\n      ) => {\n        const thisObject = {\n          $store: { state, getters, rootState, rootGetters },\n        };\n        for (const key of Object.keys(state)) {\n          Object.defineProperty(thisObject, key, {\n            get: () => (state as any)[key],\n          });\n        }\n        const output = (descriptor.get as Function).call(thisObject);\n        return output;\n      };\n    }\n    if (descriptor && descriptor.set) {\n      mutations[func] = (state: S, payload: any) => {\n        (descriptor.set as Function).call(state, payload);\n      };\n    }\n  }\n\n  Object.assign(stores[getClassName(target)].getters, getters);\n  Object.assign(stores[getClassName(target)].mutations, mutations);\n}\n\nexport function getStates<T>(target: T, props: string[]) {\n  const s: { [key: string]: any } = {};\n  for (const prop of props) {\n    s[prop] = (target as any)[prop];\n  }\n  return s;\n}\n\nexport function initStore<T>(target: T): void {\n  // tslint:disable-next-line: strict-type-predicates\n  if (typeof stores[getClassName(target)] === 'undefined') {\n    stores[getClassName(target)] = {\n      namespaced: true,\n      state: () => {\n        return {};\n      },\n      getters: {},\n      actions: {},\n      mutations: {},\n    };\n  }\n}\n\nexport function getClassName(Obj: any): string {\n  let target = new Obj.constructor();\n  if (typeof target === 'function') target = new Obj();\n  return target.moduleName;\n}\n","import { ActionContext, Action as VuexAction } from 'vuex';\nimport { stores, initStore, getClassName } from './utils';\n\nexport default function Action<T, R>(\n  target: T,\n  key: string | symbol,\n  descriptor: TypedPropertyDescriptor<(...args: any[]) => R>\n) {\n  initStore(target);\n\n  const action: VuexAction<typeof target, any> = async function (\n    context: ActionContext<any, any>,\n    payload: any\n  ) {\n    const thisObject = { $store: context };\n    for (const key of Object.keys(context.state)) {\n      Object.assign(thisObject, { [key]: context.state[key] });\n    }\n    return (target as any)[key].call(thisObject, payload);\n  };\n\n  stores[getClassName(target)].actions![key as string] = action;\n}\n","import { stores, getClassName, AverModule } from './utils';\n\nexport default function ExportVuexStore<S, R, T>(\n  target: T,\n  exportAsReadyObject = false\n): AverModule<S, R> | { [key: string]: AverModule<S, R> } {\n  const name = getClassName(target);\n  if (!exportAsReadyObject) return stores[name];\n  else return { [name]: stores[name] };\n}\n","import { Getter } from 'vuex';\nimport { stores, initStore, getClassName } from './utils';\n\nexport default function Getter<T, R>(\n  target: T,\n  key: string | symbol,\n  descriptor: TypedPropertyDescriptor<(...args: any[]) => R>\n) {\n  initStore(target);\n  stores[getClassName(target)].getters![key as string] = <S, R>(\n    state: S,\n    getters: any,\n    rootState: R,\n    rootGetters: any\n  ) => {\n    const thisObject = { $store: { state, getters, rootState, rootGetters } };\n    for (const key of Object.keys(state)) {\n      Object.assign(thisObject, { [key]: (state as any)[key] });\n    }\n    const output = (target as any)[key].call(thisObject);\n    return output;\n  };\n}\n","import { stores, initStore, getClassName } from './utils';\n\nexport default function HasGetter<T>(target: T, key: string | symbol) {\n  initStore(target);\n  stores[getClassName(target)].getters![key as string] = (state: any) =>\n    state[key];\n}\n","import Vue from 'vue';\nimport { stores, initStore, getClassName } from './utils';\n\nexport default function HasGetterAndMutation<T>(\n  target: T,\n  key: string | symbol\n) {\n  initStore(target);\n  stores[getClassName(target)].getters![key as string] = (state) => state[key];\n  stores[getClassName(target)].mutations![key as string] = (state, val) => {\n    Vue.set(state, key as string, val);\n  };\n}\n","import { stores, initStore, getClassName } from './utils';\n\nexport default function Mutation<T, R>(\n  target: T,\n  key: string | symbol,\n  descriptor: TypedPropertyDescriptor<(...args: any[]) => R>\n) {\n  initStore(target);\n  stores[getClassName(target)].mutations![key as string] = <S, R>(\n    state: S,\n    payload: R\n  ) => {\n    (target as any)[key].call(state, payload);\n  };\n}\n","import { config, AverModule } from './utils';\nimport { GetterTree, MutationTree, ActionTree } from 'vuex';\n\nexport type ConstructorOf<C> = { new (...args: any[]): C };\n\nexport interface PropertiesToDefine {\n  [key: string]: PropertyDescriptor & ThisType<any>;\n}\n\nexport function generateStaticStates<S, R>(\n  store: AverModule<S, R>,\n  propertiesToDefine: PropertiesToDefine\n): PropertiesToDefine {\n  for (const state of Object.keys((store.state as () => S)())) {\n    propertiesToDefine[state] = {\n      get() {\n        return config.store?.state[store.moduleName as string][state];\n      },\n    };\n  }\n\n  return propertiesToDefine;\n}\n\nexport function generateStaticGetters<S, R>(\n  store: AverModule<S, R>,\n  propertiesToDefine: PropertiesToDefine\n): PropertiesToDefine {\n  for (const getter of Object.keys(store.getters as GetterTree<S, R>)) {\n    propertiesToDefine[getter] = {\n      get() {\n        return config.store?.getters[`${store.moduleName}/${getter}`];\n      },\n    };\n  }\n\n  return propertiesToDefine;\n}\n\nexport function generateStaticMutations<S, R>(\n  store: AverModule<S, R>,\n  propertiesToDefine: PropertiesToDefine\n): PropertiesToDefine {\n  for (const mutation of Object.keys(store.mutations as MutationTree<S>)) {\n    if (propertiesToDefine[mutation]) {\n      const temp = propertiesToDefine[mutation];\n      propertiesToDefine[mutation] = {\n        ...temp,\n        set: (val: any) => {\n          config.store?.commit(`${store.moduleName}/${mutation}`, val);\n        },\n      };\n    } else {\n      propertiesToDefine[mutation] = {\n        value: (val: any) => {\n          config.store?.commit(`${store.moduleName}/${mutation}`, val);\n        },\n      };\n    }\n  }\n\n  return propertiesToDefine;\n}\n\nexport function generateStaticActions<S, R>(\n  store: AverModule<S, R>,\n  propertiesToDefine: PropertiesToDefine\n): PropertiesToDefine {\n  for (const action of Object.keys(store.actions as ActionTree<S, R>)) {\n    propertiesToDefine[action] = {\n      value: async (val: any) => {\n        return config.store?.dispatch(`${store.moduleName}/${action}`, val);\n      },\n    };\n  }\n\n  return propertiesToDefine;\n}\n\nexport function getModule<S>(module: ConstructorOf<S>): S {\n  return module as any;\n}\n","import ExportVuexStore from './ExportVuexStore';\nimport { stores, assignStates, getClassName } from './utils';\nimport { ActionContext } from 'vuex';\nimport {\n  generateStaticStates,\n  generateStaticGetters,\n  generateStaticMutations,\n  generateStaticActions,\n} from './StaticGenerators';\n\ninterface VuexClassOptions {\n  persistent?: Array<string>;\n  extend?: Array<any>;\n}\n\nfunction generateVuexClass<S, R>(options: VuexClassOptions) {\n  return <TFunction extends Function>(\n    constructor: TFunction\n  ): TFunction | void => {\n    const target: Function & VuexClassOptions = constructor;\n\n    assignStates(target);\n\n    const store = stores[getClassName(target)];\n\n    for (const obj of options?.extend || []) {\n      const extendStore = ExportVuexStore<any, any, typeof target>(obj);\n      const oldState = store.state();\n      const newState = extendStore.state();\n      const stateFactory = () => Object.assign(oldState, newState);\n      store.state = stateFactory;\n      Object.assign(store.getters, extendStore.getters);\n      Object.assign(store.actions, extendStore.actions);\n      Object.assign(store.mutations, extendStore.mutations);\n    }\n\n    if (options?.persistent) store.persistent = options.persistent;\n    else store.persistent = false;\n\n    const propertiesToDefine = {};\n\n    generateStaticStates(store, propertiesToDefine);\n    generateStaticGetters(store, propertiesToDefine);\n    generateStaticMutations(store, propertiesToDefine);\n    generateStaticActions(store, propertiesToDefine);\n\n    Object.defineProperties(constructor, propertiesToDefine);\n\n    return constructor;\n  };\n}\n\nexport class VuexModule<S = ThisType<any>, R = any> {\n  $store!: ActionContext<S, R>;\n}\n\nexport function VuexClass(module: Function & VuexClassOptions): void;\nexport function VuexClass(options: VuexClassOptions): ClassDecorator;\n\nexport function VuexClass(\n  options: VuexClassOptions | (Function & VuexClassOptions)\n) {\n  if (typeof (options as any) === 'function') {\n    generateVuexClass({})(options as Function & VuexClassOptions);\n  } else {\n    return generateVuexClass(options);\n  }\n}\n"],"names":[],"mappings":"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"}